"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8892],{"./src/pages/Details/ui/Details.stories.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:function(){return Primary},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Details_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),Routers=__webpack_require__("./src/shared/const/Routers.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),Users=__webpack_require__("./src/entities/Users/index.ts"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),Article=__webpack_require__("./src/entities/Article/index.ts"),GetArticleDetails=__webpack_require__("./src/entities/Article/selectors/GetArticleDetails/GetArticleDetails.ts"),Text=__webpack_require__("./src/shared/ui/Text/Text.tsx"),dist_es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),Skeleton=__webpack_require__("./src/shared/ui/Skeleton/Skeleton.tsx"),SkeletonShape=__webpack_require__("./src/shared/const/SkeletonShape.ts"),Scroll=__webpack_require__("./src/shared/ui/Scroll/Scroll.tsx"),Comments=__webpack_require__("./src/entities/Comments/index.ts"),FetchCommentsArtById=__webpack_require__("./src/entities/Comments/services/FetchCommentsArtById/FetchCommentsArtById.ts"),Button=__webpack_require__("./src/shared/ui/Button/Button.tsx"),ArticleHeader=__webpack_require__("./src/entities/Article/ui/ArticleHeader/ArticleHeader.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Details_Details=(0,react.memo)((function(){var t=(0,dist_es.$G)("details").t,profile=(0,es.v9)(Users.jf).profile,_useSelector2=(0,es.v9)(GetArticleDetails.X),loading=_useSelector2.loading,error=_useSelector2.error,data=_useSelector2.data,recommendedLoading=(0,es.v9)(Article.zC),dispatch=(0,es.I0)(),navigate=(0,dist.s0)(),params=(0,dist.UO)(),toArticle=(0,react.useCallback)((function(){navigate(Routers.a.ARTICLE)}),[navigate]);return(0,react.useEffect)((function(){null!=profile&&profile.id||loading||navigate(Routers.a.HOME)}),[profile,loading,navigate]),(0,react.useEffect)((function(){params.id&&(dispatch((0,Article._A)(params.id)),dispatch((0,Article.$2)()),dispatch((0,Comments.Ey)({artId:params.id,query:{take:FetchCommentsArtById.V.Take,skip:FetchCommentsArtById.V.Skip}})))}),[dispatch,params]),loading||recommendedLoading?(0,jsx_runtime.jsx)(Scroll.X,{children:(0,jsx_runtime.jsxs)("div",{className:"details--skeleton",children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Button.ZP,{onClick:toArticle,theme:Button.b4.OUTLINE,children:t("back-to-list")})}),(0,jsx_runtime.jsx)(Skeleton.O,{className:"details__avatar",shape:SkeletonShape.o.Circle}),(0,jsx_runtime.jsx)(Skeleton.O,{className:"details__title",shape:SkeletonShape.o.Square}),(0,jsx_runtime.jsx)(Skeleton.O,{className:"details__subtitle",shape:SkeletonShape.o.Square}),(0,jsx_runtime.jsx)(Skeleton.O,{className:"details__content",shape:SkeletonShape.o.Square})]})}):error?(0,jsx_runtime.jsx)("div",{className:"details---error",children:(0,jsx_runtime.jsx)(Text.xv,{theme:Text.lg.ERROR,align:Text.PH.CENTER,title:t("error-details")})}):(0,jsx_runtime.jsx)(Scroll.X,{children:(0,jsx_runtime.jsxs)("div",{className:"details","data-testid":"details",children:[(0,jsx_runtime.jsx)(ArticleHeader.K,{toBack:toArticle}),!!data&&(0,jsx_runtime.jsx)(Article.D0,{date:data})]})})}));try{Details_Details.displayName="Details",Details_Details.__docgenInfo={description:"",displayName:"Details",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/Details/ui/Details.tsx#Details"]={docgenInfo:Details_Details.__docgenInfo,name:"Details",path:"src/pages/Details/ui/Details.tsx#Details"})}catch(__react_docgen_typescript_loader_error){}var _Primary$parameters,_Primary$parameters2,_Primary$parameters2$,RouterDecorator=__webpack_require__("./src/shared/config/RouterDecorator/RouterDecorator.tsx"),StoreDecorator=__webpack_require__("./src/shared/config/StoreDecorator/StoreDecorator.tsx"),Details_stories={component:Details_Details,decorators:[RouterDecorator.Z,(0,StoreDecorator.Z)({users:{profile:{id:"id",username:"MyName",firstname:"MyFirstname",lastname:"MyLastname"}}})]},Primary={};Primary.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Primary.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Primary$parameters=Primary.parameters)||void 0===_Primary$parameters?void 0:_Primary$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{}"},null===(_Primary$parameters2=Primary.parameters)||void 0===_Primary$parameters2||null===(_Primary$parameters2$=_Primary$parameters2.docs)||void 0===_Primary$parameters2$?void 0:_Primary$parameters2$.source)})});var __namedExportsOrder=["Primary"]},"./src/entities/Article/ui/ArticleHeader/ArticleHeader.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{K:function(){return ArticleHeader_ArticleHeader}});var react=__webpack_require__("./node_modules/react/index.js"),ClassNames=__webpack_require__("./src/shared/lib/ClassNames/ClassNames.ts"),Button=__webpack_require__("./src/shared/ui/Button/Button.tsx"),AppLink=__webpack_require__("./src/shared/ui/AppLink/AppLink.tsx"),Routers=__webpack_require__("./src/shared/const/Routers.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),Users=__webpack_require__("./src/entities/Users/index.ts"),GetArticleDetailsData=__webpack_require__("./src/entities/Article/selectors/GetArticleDetailsData/GetArticleDetailsData.ts"),dist_es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ArticleHeader_ArticleHeader=(0,react.memo)((function(_ref){var _data$users2,className=_ref.className,toBack=_ref.toBack,t=(0,dist_es.$G)("details").t,profile=(0,es.v9)(Users.qr),data=(0,es.v9)(GetArticleDetailsData.J),isEdit=(0,react.useMemo)((function(){var _data$users;return(null==profile?void 0:profile.id)===(null==data||null===(_data$users=data.users)||void 0===_data$users?void 0:_data$users.id)}),[null==profile?void 0:profile.id,null==data||null===(_data$users2=data.users)||void 0===_data$users2?void 0:_data$users2.id]);return(0,jsx_runtime.jsxs)("div",{className:(0,ClassNames.m)("article-header",className),children:[(0,jsx_runtime.jsx)(Button.ZP,{onClick:toBack,theme:Button.b4.OUTLINE,children:t("back-to-list")}),isEdit&&(0,jsx_runtime.jsx)(AppLink.Z,{to:"".concat(Routers.a.ARTICLE_EDIT,"/").concat(null==data?void 0:data.id),children:(0,jsx_runtime.jsx)(Button.ZP,{theme:Button.b4.OUTLINE,children:t("edit")})})]})}));try{ArticleHeader_ArticleHeader.displayName="ArticleHeader",ArticleHeader_ArticleHeader.__docgenInfo={description:"",displayName:"ArticleHeader",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},toBack:{defaultValue:null,description:"",name:"toBack",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/Article/ui/ArticleHeader/ArticleHeader.tsx#ArticleHeader"]={docgenInfo:ArticleHeader_ArticleHeader.__docgenInfo,name:"ArticleHeader",path:"src/entities/Article/ui/ArticleHeader/ArticleHeader.tsx#ArticleHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/shared/config/RouterDecorator/RouterDecorator.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.Z=function RouterDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.VK,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})}},"./src/shared/ui/Scroll/Scroll.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return Scroll_Scroll}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),ClassNames=__webpack_require__("./src/shared/lib/ClassNames/ClassNames.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["className","children","wrapperRef"],Scroll_Scroll=(0,react.memo)((function(props){var className=props.className,children=props.children,wrapperRef=props.wrapperRef,otherProps=(0,objectWithoutProperties.Z)(props,_excluded);return(0,jsx_runtime.jsx)("section",(0,objectSpread2.Z)((0,objectSpread2.Z)({ref:wrapperRef,className:(0,ClassNames.m)("scroll",className)},otherProps),{},{"data-testid":"scroll",children:children}))}));try{Scroll_Scroll.displayName="Scroll",Scroll_Scroll.__docgenInfo={description:"",displayName:"Scroll",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},wrapperRef:{defaultValue:null,description:"",name:"wrapperRef",required:!1,type:{name:"MutableRefObject<HTMLDivElement | null>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/ui/Scroll/Scroll.tsx#Scroll"]={docgenInfo:Scroll_Scroll.__docgenInfo,name:"Scroll",path:"src/shared/ui/Scroll/Scroll.tsx#Scroll"})}catch(__react_docgen_typescript_loader_error){}}}]);